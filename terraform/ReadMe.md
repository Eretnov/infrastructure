---

# Terraform Module: Infrastructure

Этот проект предназначен для развертывания базовой инфраструктуры в Yandex.Cloud с использованием Terraform. Включает получение данных о VPC (Virtual Private Cloud), подсети и создание виртуальной машины с предварительной настройкой через cloud-init.

## Требования

- Terraform = 1.5.7
- Провайдер Yandex Cloud версии >= 0.87.0

## Переменные

| Имя переменной | Описание                          | Тип    | Обязательно | Значение по умолчанию         |
|:--------------|:-----------------------------------|:-------|:------------|:------------------------------|
| ssh_key       | SSH ключ для доступа к VM          | string | да         | -                            |
| cloud_id      | Идентификатор облака Yandex.Cloud  | string | да         | -                            |
| folder_id     | Идентификатор каталога Yandex.Cloud| string | да         | -                            |
| zone          | Зона размещения ресурсов           | string | нет        | ru-central1-a                |
| image_id      | ID образа VM                       | string | нет        | fd80qm01ah03dkqb14lc         |


## Описание выходных данных

| Имя переменной              | Описание                                                                           |
|----------------------------|-------------------------------------------------------------------------------------|
| `ip_address`                | Внутренний IP-адрес созданной виртуальной машины в модуле `yandex_cloud_instance`. |
| `external_ip_address_vm`    | Внешний (публичный) IP-адрес виртуальной машины из модуля `yandex_cloud_instance`. |
| `network_id`                | Идентификатор сети, полученной в модуле `yandex_cloud_network`.                    |
| `subnet_ids`                | Список идентификаторов подсетей в сети.                                            |
| `subnet_cidr_blocks`        | Список CIDR-блоков, соответствующих подсетям сети.                                 |

## Использование

1. **Инициализация:**
    ```sh
    terraform init
    ```

2. **Планирование изменений:**
    ```sh
    terraform plan
    ```

3. **Применение конфигурации:**
    ```sh
    terraform apply
    ```

4. **Удаление инфраструктуры:**
    ```sh
    terraform destroy
    ```
